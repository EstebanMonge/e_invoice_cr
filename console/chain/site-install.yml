command:
  name: project:install
  description: 'Install the project with the all the dependencies and configs.'
commands:
  - command: exec
    arguments:
      bin: composer global install --working-dir=../
  # Install Drupal
  - command: site:install
    options:
      langcode: es
      db-type: ${DATABASE_TYPE}
      db-host: ${DATABASE_HOST}
      db-name: ${DATABASE_NAME}
      db-user: ${DATABASE_USER}
      db-pass: ${DATABASE_PASSWORD}
      db-port: ${DATABASE_PORT}
      site-name: 'Factura CR'
      site-mail: info@facturacr.org
      account-name: admin
      account-mail: admin@example.org
      account-pass: 6bb181d872
      force: true
      no-interaction: true
    arguments:
      profile: 'e_invoice_cr_profile'
  # Override default uuid
  - command: config:override
    options:
      quiet: true
      uri: 'http://sync'
    arguments:
      name: system.site
      key: uuid
      value: 'eda2dc7d-6210-4fa3-a763-ca7f69f7bc9b'
  # Rebuild caches
  - command: cache:rebuild
    arguments:
        cache: all

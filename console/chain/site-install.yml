command:
  name: project:install
  description: 'Install the project with the all the dependencies and configs.'
commands:
  - command: exec
    arguments:
      bin: composer install --working-dir=../
  # Install Drupal
  - command: site:install
    options:
      langcode: es
      db-type: '%env(DATABASE_TYPE)%'
      db-host: '%env(DATABASE_HOST)%'
      db-name: '%env(DATABASE_NAME)%'
      db-user: '%env(DATABASE_USER)%'
      db-pass: '%env(DATABASE_PASSWORD)%'
      db-port: '%env(DATABASE_PORT)%'
      site-name: 'Factura CR'
      site-mail: info@facturacr.org
      account-name: admin
      account-mail: admin@example.org
      account-pass: 6bb181d872
      force: true
      no-interaction: true
    arguments:
      profile: 'e_invoice_cr_profile'
  - command: update:execute
  - command: config:override
    options:
      quiet: true
      uri: 'http://sync'
    arguments:
      name: system.site
      key: uuid
      value: 'eda2dc7d-6210-4fa3-a763-ca7f69f7bc9b'
  - command: update:execute
  # Import configurations
  - command: config:import
  - command: cache:rebuild
    arguments:
        cache: all
  # Install e-invoice-cr modules
  - command: module:install
    arguments:
      module:
        - telephone
        - field_group
        - addressfield_cr
        - paragraphs
        - entity_print
        - content_moderation
        - twig_field_value
        - e_invoice_cr
        - customer_entity
        - tax_entity
        - invoice_entity
        - invoice_email
